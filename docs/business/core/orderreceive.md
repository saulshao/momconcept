# 概述

制造业务中的订单接收，指的是从ERP或者其他系统接收订单的过程。

[[TOC]]

## 基本概念

本节介绍业务流程中需要用到的基本概念。

### 订单

根据笔者过去的经验，实际上订单是一个模糊的概念。在这里，笔者这样定义订单:

```
    订单是根据最终客户的需求或者企业对于市场的预测，
    产生的在某一个特定时间需要被生产出来的一种或者多种产品以及其对应的数量的清单。
```

#### 订单属性

根据上面的定义，订单应该具备下面的属性:

1. 编号 - 订单的编号
2. 类型 - 订单类型，这是一个可以枚举的值：
    1. BTS - Build to stock， 这类订单生产的产品通常不会被直接发货给最终客户，而是会被送进仓库等待客户需求发货。常见的例子是一批标准配置的台式计算机。虚拟的例子则可能是一批固定武装的太空战斗机。这类订单的特征是对应的产品BOM是固定的，同时总的生产数量比较巨大，这实际上取决于企业对市场的预测和生产成本。
    2. BTO - Build to order， 这类订单生产的产品会直接发给客户。特征和BTS很相似。例如一个外星星球订购的300架太空战斗机。这类订单的BOM可能会根据特定的客户进行少量的定制。
    3. CTO - Customize to order， 这类订单是完全定制化的订单，特征是订单的产品数量会比较小，并且即使是同一个客户，其每次要求的同类产品都可能配置不一样。例如某星球定制的3个不同的订单，每个订单都对应一艘不同配置的航空母舰。这类订单是目前制造业务的趋势。
   
3. 产品 - 订单需求的产品，通常情况下，一个订单可能会包括一种或者多种产品，当一个订单要求多种产品时，这个订单需要按照一定的规则拆分，以确保这个订单需求的产品可以在不同的制造模式中被制造出来。例如在SAP系统中，一个订单需求的不同产品，会被称为订单的不同行，实际上订单行就是子订单。
4. 订单BOM - 对于BTS和BTO订单，订单BOM只要指出不同的产品即可，而对于CTO订单，必须还要给出不完整的订单BOM以体现客户定制的要求。因此，现代制造企业的产品和对应的BOM其实会分成定制BOM和非定制BOM两大类。
5. 需求数量 - 通常每个订单行都会有一个针对某种产品的需求数量。
6. 客户信息 - 订单的客户信息包括但不限于如下的内容（通常以下信息不会用于制造流程，但可能用于必须的标签）：
   1. 客户名称
   2. 要求的交付时间
   3. 成品库
   4. 发货相关信息 - 接收人， 收货地址，承运人等等。
   5. 合同信息

#### 订单制造信息

本节描述为了生产制造需要而给订单准备的信息。

1. 产品BOM
2. 制造BOM
3. 工艺路线
5. 设备程序

## 订单接收过程
订单接收过程实际上就是完成上述订单所有必须信息。这些信息应该被记录，以用于后续的制造流程。

整个过程可以是手动的，即上述的所有信息都要求用户填写，这种情况常见于小型企业或者暂时无法与ERP系统连接的场景。

也可以是自动的，这意味着订单制造信息可能需要定义一些规则以实现自动匹配。
### 接收订单属性
### 匹配产品BOM
### 产生制造BOM
### 匹配工艺路线
### 匹配设备程序